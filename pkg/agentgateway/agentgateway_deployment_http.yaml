apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  name: test-http-server
  namespace: default
spec:
  selector:
    matchLabels:
      app.kubernetes.io/instance: test-http-server
      app.kubernetes.io/name: test-http-server
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        app.kubernetes.io/instance: test-http-server
        app.kubernetes.io/managed-by: kmcp
        app.kubernetes.io/name: test-http-server
    spec:
      containers:
      - command:
        - sh
        - -c
        - /agentbin/agentgateway -f /config/local.yaml
        image: docker.io/mcp/everything
        name: mcp-server
        resources: {}
        volumeMounts:
        - mountPath: /config
          name: config
        - mountPath: /agentbin
          name: binary
      initContainers:
      - args:
        - -c
        - cp /usr/bin/agentgateway /agentbin/agentgateway
        command:
        - sh
        image: ttl.sh/h1751392143:24h
        name: copy-binary
        resources: {}
        volumeMounts:
        - mountPath: /agentbin
          name: binary
      volumes:
      - configMap:
          name: test-http-server
        name: config
      - emptyDir: {}
        name: binary
status: {}
